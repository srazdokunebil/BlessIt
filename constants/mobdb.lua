vr.mobdb = {}

vr.mobdb.mobs = {
	{
		Name="Ancient Core Hound",
		IgnSpell={"Serrated Bite",},
		IntSpell={"",},
	},

	{
		Name="Anvilrage Guardsman",
		IgnSpell={"",},
		IntSpell={"",},
	},

	{
		Name="Black Dragonspawn",
		IgnSpell={"Cleave",},
		IntSpell={"",},
	},

	{
		Name="Alzzin the Wildshaper",
		IgnSpell={"",},
		IntSpell={"Wild Regeneration","Wither",},
	},

	{
		Name="Atal'ai Mistress",
		IgnSpell={"Snap Kick",},
		IntSpell={"",},
	},

	{
		Name="Baron Geddon",
		IgnSpell={"",},
		IntSpell={"",},
	},

	{
		Name="Baron Rivendare",
		IgnSpell={"Cleave",},
		IntSpell={"Shadow Bolt",},
	},

	{
		Name="Baroness Anastari",
		IgnSpell={"",},
		IntSpell={"Banshee Wail","Silence",},
	},

	{
		Name="Black Guard Sentry",
		IgnSpell={"Cleave","Strike",},
		IntSpell={"",},
	},

	{
		Name="Blackwing Spellbinder",
		IgnSpell={"Flamestrike","Greater Polymorph",},
		IntSpell={"",},
	},

	{
		Name="Blackwing Taskmaster",
		IgnSpell={"Healing Circle",},
		IntSpell={"",},
	},

	{
		Name="Bloodpetal Trapper",
		IgnSpell={"Entangling Roots",},
		IntSpell={"",},
	},

	{
		Name="Bloodlord Mandokir",
		IgnSpell={"Enrage","Mortal Strike","Threatening Gaze",},
		IntSpell={"",},
	},

	{
		Name="Blood Steward of Kirtonos",
		IgnSpell={"Paralyzing Poison",},
		IntSpell={"",},
	},

	{
		Name="Cho'Rush the Observer",
		IgnSpell={"",},
		IntSpell={"Arcane Explosion","Chain Lightning","Fireball","Healing Wave","Lightning Bolt",},
	},

	{
		Name="Core Hound",
		IgnSpell={"",},
		IntSpell={"",},
	},

	{
		Name="Crimson Battle Mage",
		IgnSpell={"",},
		IntSpell={"Blast Wave",},
	},

	{
		Name="Crimson Priest",
		IgnSpell={"Holy Fire",},
		IntSpell={"Heal",},
	},

	{
		Name="Crypt Beast",
		IgnSpell={"Encasing Webs",},
		IntSpell={"",},
	},

	{
		Name="Crypt Crawler",
		IgnSpell={"Crypt Scarabs",},
		IntSpell={"",},
	},

	{
		Name="Darkmaster Gandling",
		IgnSpell={"",},
		IntSpell={"Curse of the Darkmaster","Arcane Missiles",},
	},

	{
		Name="Deadwood Gardener",
		IgnSpell={"",},
		IntSpell={"Healing Wave",},
	},

	{
		Name="Death Talon Hatcher",
		IgnSpell={"",},
		IntSpell={"Flamestrike",},
	},

	{
		Name="Death Talon Wyrmkin",
		IgnSpell={"",},
		IntSpell={"Fireball Volley",},
	},

	{
		Name="Diemetradon",
		IgnSpell={"Dire Growl",},
		IntSpell={"",},
	},

	{
		Name="Diseased Ghoul",
		IgnSpell={"Dire Growl",},
		IntSpell={"",},
	},

	{
		Name="Doctor Theolen Krastinov",
		IgnSpell={"",},
		IntSpell={"",},
	},

	{
		Name="Doomguard Minion",
		IgnSpell={"",},
		IntSpell={"Rain of Fire",},
	},

	{
		Name="Dredge Crusher",
		IgnSpell={"Lash",},
		IntSpell={"",},
	},

	{
		Name="Dust Stormer",
		IgnSpell={"Lightning Cloud",},
		IntSpell={"",},
	},

	{
		Name="Elder Diemetradon",
		IgnSpell={"Pummel",},
		IntSpell={"",},
	},

	{
		Name="Eye of C'Thun",
		IgnSpell={"",},
		IntSpell={"",},
	},

	{
		Name="Eye Tentacle",
		IgnSpell={"",},
		IntSpell={"Mind Flay",},
	},

	{
		Name="Fel Lash",
		IgnSpell={"",},
		IntSpell={"Arcane Explosion","Arcane Bolt",},
	},

	{
		Name="Flamewaker Elite",
		IgnSpell={"",},
		IntSpell={"",},
	},

	{
		Name="Flamewaker Healer",
		IgnSpell={"",},
		IntSpell={"",},
	},

	{
		Name="Flamewaker Priest",
		IgnSpell={"Flame Spear",},
		IntSpell={"Dark Mending",},
	},

	{
		Name="Flamewaker Protector",
		IgnSpell={"",},
		IntSpell={"",},
	},

	{
		Name="Garr",
		IgnSpell={"",},
		IntSpell={"",},
	},

	{
		Name="Gehennas",
		IgnSpell={"",},
		IntSpell={"Rain of Fire",},
	},

	{
		Name="Ghoul Ravener",
		IgnSpell={"Birth","Head Crack","Ravenous Claw",},
		IntSpell={"",},
	},

	{
		Name="Giant Eye Tentacle",
		IgnSpell={"",},
		IntSpell={"Eye Beam",},
	},

	{
		Name="Golemagg the Incinerator",
		IgnSpell={"",},
		IntSpell={"",},
	},

	{
		Name="Gordok Brute",
		IgnSpell={"Cleave","Strike",},
		IntSpell={"",},
	},

	{
		Name="Gordok Captain",
		IgnSpell={"Dark Strike",},
		IntSpell={"",},
	},

	{
		Name="Gordok Enforcer",
		IgnSpell={"Cleave","Strike",},
		IntSpell={"",},
	},

	{
		Name="Gordok Mage-Lord",
		IgnSpell={"",},
		IntSpell={"Fireball","Flamestrike","Frostbolt",},
	},

	{
		Name="Gordok Mauler",
		IgnSpell={"",},
		IntSpell={"",},
	},

	{
		Name="Gordok Ogre-Mage",
		IgnSpell={"",},
		IntSpell={"Fireball",},
	},

	{
		Name="Gordok Reaver",
		IgnSpell={"Cleave","Strike",},
		IntSpell={"",},
	},

	{
		Name="Gordok Warlock",
		IgnSpell={"",},
		IntSpell={"Immolate","Shadow Bolt",},
	},

	{
		Name="Gordunni Mage-Lord",
		IgnSpell={"",},
		IntSpell={"Fireball",},
	},

	{
		Name="Gordunni Warlock",
		IgnSpell={"",},
		IntSpell={"Shadow Bolt",},
	},

	{
		Name="Grellkin Shadow Weaver",
		IgnSpell={"",},
		IntSpell={"Drain Mana",},
	},

	{
		Name="Guard Fergus",
		IgnSpell={"Cleave","Strike",},
		IntSpell={"",},
	},

	{
		Name="Guard Mol'dar",
		IgnSpell={"Cleave","Strike",},
		IntSpell={"",},
	},

	{
		Name="Guard Slip'kik",
		IgnSpell={"Cleave","Strike",},
		IntSpell={"",},
	},

	{
		Name="Gurubashi Axe Thrower",
		IgnSpell={"Axe Flurry","Throw Axe",},
		IntSpell={"",},
	},

	{
		Name="Gurubashi Bat Rider",
		IgnSpell={"Unstable Concoction",},
		IntSpell={"",},
	},

	{
		Name="Hakkari Blood Priest",
		IgnSpell={"",},
		IntSpell={"Drain Life",},
	},

	{
		Name="Hakkari Priest",
		IgnSpell={"",},
		IntSpell={"Heal",},
	},

	{
		Name="Hakkari Shadowcaster",
		IgnSpell={"",},
		IntSpell={"Shadow Bolt","Mana Burn",},
	},

	{
		Name="Hakkari Witch Doctor",
		IgnSpell={"",},
		IntSpell={"Shrink",},
	},

	{
		Name="High Priestess Arlokk",
		IgnSpell={"Whirlwind",},
		IntSpell={"",},
	},

	{
		Name="High Priestess Jeklik",
		IgnSpell={"Mind Flay","Swoop",},
		IntSpell={"Great Heal","placeholder","placeholder",},
	},

	{
		Name="High Priestess Mar'li",
		IgnSpell={"Corrosive Poison","Hatch Eggs",},
		IntSpell={"Drain Life",},
	},

	{
		Name="High Priest Venoxis",
		IgnSpell={"",},
		IntSpell={"Holy Fire","placeholder","placeholder",},
	},

	{
		Name="Hive Regal Spitfire",
		IgnSpell={"Corrosive Acid Spit","Swoop",},
		IntSpell={"",},
	},

	{
		Name="Hydrospawn",
		IgnSpell={"",},
		IntSpell={"Massive Geyser",},
	},

	{
		Name="Instructor Malicia",
		IgnSpell={"Corruption",},
		IntSpell={"Renew",},
	},

	{
		Name="Jaedenar Darkweaver",
		IgnSpell={"",},
		IntSpell={"Shadow Bolt",},
	},

	{
		Name="Jaedenar Warlock",
		IgnSpell={"",},
		IntSpell={"Shadow Bolt",},
	},

	{
		Name="Lady Illucia Barov",
		IgnSpell={"",},
		IntSpell={"Fear","Shadow Shock","Silence",},
	},

	{
		Name="Lava Spawn",
		IgnSpell={"Fireball",},
		IntSpell={"",},
	},

	{
		Name="Lethtendris",
		IgnSpell={"",},
		IntSpell={"Curse of Thorns","Enlarge","Void Bolt",},
	},

	{
		Name="Living Blaze",
		IgnSpell={"Scorch",},
		IntSpell={"",},
	},

	{
		Name="Lord Alexei Barov",
		IgnSpell={"",},
		IntSpell={"Veil of Shadow",},
	},

	{
		Name="Lorekeeper Polkelt",
		IgnSpell={"",},
		IntSpell={"Volatile Infection","Corrosive Acid",},
	},

	{
		Name="Lor'Khan",
		IgnSpell={"",},
		IntSpell={"Great Heal",},
	},

	{
		Name="Lucifron",
		IgnSpell={"",},
		IntSpell={"",},
	},

	{
		Name="Lurking Jungle Creeper",
		IgnSpell={"Entangling Roots",},
		IntSpell={"",},
	},

	{
		Name="Mad Servant",
		IgnSpell={"",},
		IntSpell={"Flamestrike","Fireball",},
	},

	{
		Name="Magmadar",
		IgnSpell={"",},
		IntSpell={"",},
	},

	{
		Name="Majordomo Executus",
		IgnSpell={"",},
		IntSpell={"",},
	},

	{
		Name="Maleki the Pallid",
		IgnSpell={"",},
		IntSpell={"Drain Life","Frostbolt","placeholder",},
	},

	{
		Name="Mistress Natalia Mar'alith",
		IgnSpell={"",},
		IntSpell={"Mind Flay","Dominate Mind","Greater Heal",},
	},

	{
		Name="Molten Giant",
		IgnSpell={"Smash","Massive Tremor",},
		IntSpell={"",},
	},

	{
		Name="Nerub'enkan",
		IgnSpell={"Crypt Scarabs",},
		IntSpell={"",},
	},

	{
		Name="Obsidian Eradicator",
		IgnSpell={"",},
		IntSpell={"",},
	},

	{
		Name="Onyxia",
		IgnSpell={"",},
		IntSpell={"",},
	},

	{
		Name="Pimgib",
		IgnSpell={"",},
		IntSpell={"Fireball",},
	},

	{
		Name="Plague Ghoul",
		IgnSpell={"Cleave","Head Smash",},
		IntSpell={"",},
	},

	{
		Name="Plaguehound",
		IgnSpell={"Banshee Curse",},
		IntSpell={"",},
	},

	{
		Name="Plated Stegodon",
		IgnSpell={"Head Smash",},
		IntSpell={"",},
	},

	{
		Name="Plagued Hatchling",
		IgnSpell={"Diseased Spit",},
		IntSpell={"",},
	},

	{
		Name="Qiraji Swarmguard",
		IgnSpell={"Sundering Cleave",},
		IntSpell={"",},
	},

	{
		Name="Ragnaros",
		IgnSpell={"",},
		IntSpell={"",},
	},

	{
		Name="Ramstein the Gorger",
		IgnSpell={"",},
		IntSpell={"",},
	},

	{
		Name="Ras Frostwhisper",
		IgnSpell={"Frostbolt",},
		IntSpell={"Frostbolt Volley"," Fear","Freeze",},
	},

	{
		Name="Ravaged Cadaver",
		IgnSpell={"Cleave","Hamstring","Strike",},
		IntSpell={"",},
	},

	{
		Name="Razzashi Adder",
		IgnSpell={"Fatal Bite","Pierce Armor","Venom Spit","Exploit Weakness",},
		IntSpell={"",},
	},

	{
		Name="Razzashi Serpent",
		IgnSpell={"Fatal Bite","Pierce Armor","Venom Spit",},
		IntSpell={"",},
	},

	{
		Name="Rockwing Screecher",
		IgnSpell={"",},
		IntSpell={"Gargoyle Strike",},
	},

	{
		Name="Sand Skitterer",
		IgnSpell={"Poison",},
		IntSpell={"",},
	},

	{
		Name="Scarlet Warder",
		IgnSpell={"",},
		IntSpell={"Holy Light",},
	},

	{
		Name="Scarlet Cavalier",
		IgnSpell={"Cleave",},
		IntSpell={"Holy Light",},
	},

	{
		Name="Scarlet Paladin",
		IgnSpell={"Holy Strike",},
		IntSpell={"Holy Light",},
	},

	{
		Name="Scarshield Acolyte",
		IgnSpell={"",},
		IntSpell={"Heal",},
	},

	{
		Name="Scarshield Legionnaire",
		IgnSpell={"Cleave",},
		IntSpell={"",},
	},

	{
		Name="Scarshield Raider",
		IgnSpell={"Strike",},
		IntSpell={"",},
	},

	{
		Name="Scarshield Spellbinder",
		IgnSpell={"",},
		IntSpell={"Arcane Bolt",},
	},

	{
		Name="Scarshield Warlock",
		IgnSpell={"Shadow Bolt",},
		IntSpell={"Scarshield Portal",},
	},

	{
		Name="Scholomance Acolyte",
		IgnSpell={"",},
		IntSpell={"Cripple","Mind Flay",},
	},

	{
		Name="Scholomance Adept",
		IgnSpell={"",},
		IntSpell={"Frostbolt",},
	},

	{
		Name="Scholomance Dark Summoner",
		IgnSpell={"Curse of Blood",},
		IntSpell={"Summon Risen Lackey",},
	},

	{
		Name="Scholomance Necrolyte",
		IgnSpell={"",},
		IntSpell={"Shadow Bolt",},
	},

	{
		Name="Scholomance Necromancer",
		IgnSpell={"",},
		IntSpell={"Shadow Bolt Volley",},
	},

	{
		Name="Scholomance Neophyte",
		IgnSpell={"",},
		IntSpell={"Mind Flay"," Shadow Bolt",},
	},

	{
		Name="Scholomance Occultist",
		IgnSpell={"",},
		IntSpell={"Mind Flay"," Shadow Bolt",},
	},

	{
		Name="Shazzrah",
		IgnSpell={"",},
		IntSpell={"",},
	},

	{
		Name="Shrieking Banshee",
		IgnSpell={"",},
		IntSpell={"Banshee Wail","placeholder",},
	},

	{
		Name="Skeletal Berserker",
		IntSpell={"",},
		IgnSpell={"Cleave","Hamstring","Strike",},
	},

	{
		Name="Skeletal Guardian",
		IgnSpell={"",},
		IntSpell={"Frostbolt","Shadow Bolt"," Arcane Explosion",},
	},

	{
		Name="Smolderthorn Mystic",
		IgnSpell={"",},
		IntSpell={"Chain Lightning",},
	},

	{
		Name="Smolderthorn Seer",
		IgnSpell={"Chain Lightning",},
		IntSpell={"Healing Wave",},
	},

	{
		Name="Smolderthorn Shadow Priest",
		IgnSpell={"",},
		IntSpell={"Mana Burn",},
	},

	{
		Name="Spiked Stegodon",
		IgnSpell={"Head Smash",},
		IntSpell={"",},
	},

	{
		Name="Spirestone Enforcer",
		IgnSpell={"Strike",},
		IntSpell={"",},
	},

	{
		Name="Spirestone Mystic",
		IgnSpell={"",},
		IntSpell={"Chain Lightning",},
	},

	{
		Name="Spirestone Ogre Magus",
		IgnSpell={"",},
		IntSpell={"Arcane Bolt",},
	},

	{
		Name="Stegodon",
		IgnSpell={"Head Smash",},
		IntSpell={"",},
	},

	{
		Name="Stonelash Pincer",
		IgnSpell={"Venom Sting",},
		IntSpell={"",},
	},

	{
		Name="Stonelash Scorpid",
		IgnSpell={"Venom Sting",},
		IntSpell={"",},
	},

	{
		Name="Sulfuron Harbinger",
		IgnSpell={"",},
		IntSpell={"",},
	},

	{
		Name="The Prophet Skeram",
		IgnSpell={"",},
		IntSpell={"Arcane Explosion","Earth Shock","placeholder",},
	},

	{
		Name="The Ravenian",
		IntSpell={"",},
		IgnSpell={"",},
	},

	{
		Name="Thunderstomp Stegodon",
		IgnSpell={"Head Smash",},
		IntSpell={"",},
	},

	{
		Name="Thuzadin Necromancer",
		IgnSpell={"",},
		IntSpell={"Soul Tap",},
	},

	{
		Name="Thuzadin Shadowcaster",
		IgnSpell={"",},
		IntSpell={"Shadow Bolt"," Cripple","Piercing Shadow",},
	},

	{
		Name="Unliving Resident",
		IgnSpell={"Kick","Sunder Armor",},
		IntSpell={"",},
	},

	{
		Name="Vectus",
		IgnSpell={"",},
		IntSpell={"Flamestrike",},
	},

	{
		Name="Venom Belcher",
		IgnSpell={"",},
		IntSpell={"Venom Spit",},
	},

	{
		Name="Vilebranch Soothsayer",
		IgnSpell={"",},
		IntSpell={"Healing Wave",},
	},

	{
		Name="Vilebranch Witch Doctor",
		IgnSpell={"",},
		IntSpell={"Healing Wave",},
	},

	{
		Name="Vile Ooze",
		IgnSpell={"",},
		IntSpell={"Poison Bolt",},
	},

	{
		Name="Voodoo Slave",
		IgnSpell={"",},
		IntSpell={"Rain of Fire","Shadow Bolt","Inferno",},
	},

	{
		Name="Wailing Banshee",
		IgnSpell={"Anti-Magic Shield",},
		IntSpell={"",},
	},

	{
		Name="Warpwood Tangler",
		IgnSpell={"",},
		IntSpell={"Lightning Bolt",},
	},

	{
		Name="Warpwood Treant",
		IgnSpell={"Cleave","Strike",},
		IntSpell={"",},
	},

	{
		Name="Wildspawn Betrayer",
		IgnSpell={"",},
		IntSpell={"",},
	},

	{
		Name="Wildspawn Felsworn",
		IgnSpell={"",},
		IntSpell={"Shadow Bolt",},
	},

	{
		Name="Wildspawn Hellcaller",
		IgnSpell={"",},
		IntSpell={"Fireball","Rain of Fire",},
	},

	{
		Name="Wildspawn Satyr",
		IgnSpell={"Cleave","Hamstring","Strike",},
		IntSpell={"",},
	},

	{
		Name="Wildspawn Trickster",
		IgnSpell={"Cleave","Hamstring","Paralysing Poison","Strike",},
		IntSpell={"",},
	},

	{
		Name="Wildspawn Shadowstalker",
		IgnSpell={"",},
		IntSpell={"Slowing Poison",},
	},

	{
		Name="Winterspring Screecher",
		IgnSpell={"Deafening Screech",},
		IntSpell={"",},
	},

	{
		Name="Zealot Lor'Khan",
		IgnSpell={"Disarm",},
		IntSpell={"Great Heal",},
	},

	{
		Name="Zevrim Thornhoof",
		IgnSpell={"",},
		IntSpell={"Intense Pain","Sacrifice",},
	},

	{
		Name="Zulian Panther",
		IgnSpell={"Exploit Weakness","Ravage",},
		IntSpell={"",},
	},

}


vr.mobdb.globalignspell = {
	"Cleave",
	"Head Crack",
	"Head Smash",
	"Holy Strike",
	"Strike",
	"Wither",
}

function vr.mobdb.Match()
    for i = 1, table.getn(vr.mobdb.mobs) do
        if vr.mobdb.mobs[i].Name == vr.api.TargetName then
            return true
        end
    end
    return false
end

-- function vr.mobdb.MatchIntSpell()
--     if not UnitExists('target') then
--         return false
--     end
--     for i = 1, table.getn(vr.mobdb.mobs) do
--         if vr.mobdb.mobs[i].name == vr.api.TargetName and (vr.mobdb.mobs[i].intSpell1 == vr.api.EnemySpellcast or vr.mobdb.mobs[i].intSpell2 == vr.api.EnemySpellcast) then
--             return true
--         end
--     end
--     return false
-- end

function vr.mobdb.Casts()
	if not UnitExists('target') or not Cg("MobDBFilter") then
        return false
    end
    for i = 1, table.getn(vr.mobdb.mobs) do
        if vr.mobdb.mobs[i].Name == vr.api.TargetName then
			if not vr.mobdb.mobs[i].IntSpell then
				vr.log.Warn("Bad IntSpell table in vr.mobdb.mobs[i].Name")
				return false
			end
			return (vr.api.Tablelength(vr.mobdb.mobs[i].IntSpell) > 0)
        end
    end
    return false
end

function vr.mobdb.MatchIntSpell()
    if not UnitExists('target') or not Cg("MobDBFilter") then
        return false
    end
    for i = 1, table.getn(vr.mobdb.mobs) do
        if vr.mobdb.mobs[i].Name == vr.api.TargetName then
			if not vr.mobdb.mobs[i].IntSpell then
				vr.log.Warn("Bad IntSpell table in vr.mobdb.mobs[i].Name")
				return false
			end
            --print(vr.api.TargetName .. " is a MobDB match!")
            for _, v in pairs(vr.mobdb.mobs[i].IntSpell) do
                if v == vr.api.EnemySpellcast then
                    vr.log.Debug(vr.api.EnemySpellcast .. " = " .. v .. " : Must Interrupt")
                    return true
                else
                    --print(v .. " did not match ".. vr.api.EnemySpellcast .. ".")
                end
            end
        end
    end
    return false
end

function vr.mobdb.MatchIgnSpell()
    if not UnitExists('target') or not Cg("MobDBFilter") then
        return false
    end
    for i = 1, table.getn(vr.mobdb.mobs) do
        if vr.mobdb.mobs[i].Name == vr.api.TargetName then
			if not vr.mobdb.mobs[i].IgnSpell then
				vr.log.Warn("Bad IgnSpell table in vr.mobdb.mobs[i].Name")
				return false
			end
            --print(vr.api.TargetName .. " is a MobDB match!")
            for _, v in pairs(vr.mobdb.mobs[i].IgnSpell) do
                if v == vr.api.EnemySpellcast then
                    vr.log.Debug(vr.api.EnemySpellcast .. " = " .. v .. " : Do Not Interrupt")
                    return true
                else
                    --print(v .. " did not match ".. vr.api.EnemySpellcast .. ".")
                end
            end
        end
    end
    return false
end

function vr.mobdb.MatchGlobalIgnSpell()
	if not UnitExists('target') or not Cg("IntSpellCatchAll") then
        return false
    end

	for _, v in pairs(vr.mobdb.globalignspell) do
		--print("globalignspell evaluating " .. v)

		if v == vr.api.EnemySpellcast then
			vr.log.Debug(vr.api.EnemySpellcast .. " = " .. v .. " : Global Do Not Interrupt")
			return true
		else
			--print(v .. " did not match ".. vr.api.EnemySpellcast .. ".")
		end

	end

	--vr.log.Debug(vr.api.EnemySpellcast .. " : DOES NOT MATCH Global Do Not Interrupt")

	return false
end